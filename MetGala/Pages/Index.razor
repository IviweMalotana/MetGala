@page "/"
@inject HttpClient HttpClient
@inject NavigationManager NavigationManager
@using System.Collections.Generic
@using System.Net.Http
@using System.Net.Http.Json
@using System.Threading.Tasks

<style>

    .wrapper {
        height: 100vh;
        width: 100%;
        background-color: white;
    }

    .nav {
        height: 20vh;
        background-color: black;
        box-shadow: rgba(0, 0, 0, 0.2) 0px 12px 28px 0px, rgba(0, 0, 0, 0.1) 0px 2px 4px 0px, rgba(255, 255, 255, 0.05) 0px 0px 0px 1px inset;
        width: 100%;
        text-align: center;
        justify-content: center;
        color: antiquewhite;
        font-family: Zapfino;
        margin-bottom: 10vh;
    }

    .main-body {
        height: 60vh;     
        width: 30%;
        border-radius: 10px;
        max-width: 800px;
        margin: auto;
        margin-bottom: 10vh;
        background-color: black;
        align-content: center;
        justify-content: center;
        box-shadow: rgba(0, 0, 0, 0.2) 0px 12px 28px 0px, rgba(0, 0, 0, 0.1) 0px 2px 4px 0px, rgba(255, 255, 255, 0.05) 0px 0px 0px 1px inset;
    }

    .form-div {
        height: 95%;
        margin-bottom: 5%;
        width: 100%;
    }

    .heading {
        height: 5%;
        margin-bottom: 5%;
    }


    .div-buttons {
        height: 5%;
        margin-bottom: 10%;
        display: flex;
        align-content: center;
        text-align: center;
        margin-left: 20%;
        margin-right: 20%;
        width: 60%;
        justify-content: center;
    }


    .form-group-others {
        width: 80%;
        padding-top: 10%;
        margin: auto;

        
    }

    .form-group-text-area {
        width: 70%;
        margin: auto;
        height: auto;
        padding-top: 5%;
    }

    .form-control-style {
        border: 2px antiquewhite solid;
        color: black;
        font-family: Merienda;       
    }

    .form-control-text-area {
        border: 2px darkgrey solid;
        width: 100%;
    }

    .buttondivs {
        height: 80%;
        width: 50%;
        margin-bottom: 20%;
        border: none;
        color: white;
    }

        .buttondivs:hover {
            text-decoration: none;
        }

    .add-button-div {
        border: none;
        display: flex;
        justify-content: center;
        align-items: center;
        height: auto;
    }

    h1{
        font-size: 100px;
        margin-top: 20px;
    }

    h2 {
        text-decoration: none;
        font-size: 20px;
    }

    h3 {
        font-size: 20px;
    }

    .top-div {
        width: 80%;
        display: flex;
        height: 30%;
        margin: auto;
    }

    .mybutton{
        border: none;
        width: 100%;
        height: 100%;
        color: antiquewhite;
        background-color: black;
    }

</style>

<div class="wrapper">
    <div class="nav">
        <h1>Met Gala Registration</h1>
    </div>
    <form class="main-body">

        <div class="form-group-others">
            <input type="text" class="form-control form-control-style" placeholder="Name" @bind="met.Name">
        </div>

        <div class="form-group-others">
            <input type="text" class="form-control form-control-style" placeholder="Surname" @bind="met.Surname">
        </div>

        <div class="form-group-others">
            <input type="text" class="form-control form-control-style" placeholder="Email" @bind="met.Email">
        </div>

        <div class="form-group-others">
            <select class="custom-select right-input " id="inputGroupSelect01" @onchange="OnDesignerChanged">
                <option selected>Select Designer</option>
                <option value="Alexander McQueen">Alexander McQueen</option>
                <option value="Burberry">Burberry</option>
                <option value="Balmain">Balmain</option>
                <option value="Balenciaga">Balenciaga</option>
                <option value="Chanel">Chanel</option>
                <option value="Carolina Herrera">Carolina Herrera</option>
                <option value="Calvin Klein">Calvin Klein</option>
                <option value="Dior">Dior</option>
                <option value="Donna Karan">Donna Karan</option>
                <option value="Dolce & Gabbana">Dolce & Gabbana</option>
                <option value="Gucci">Gucci</option>
                <option value="Giambattista Valli">Giambattista Valli</option>
                <option value="Givenchy">Givenchy</option>
                <option value="Jean Paul Gaultier">Jean Paul Gaultier</option>
                <option value="Karl Lagerfeld">Karl Lagerfeld</option>
                <option value="Louis Vuitton">Louis Vuitton</option>
                <option value="Mui Mui">Mui Mui</option>
                <option value="Marchesa">Marchesa</option>
                <option value="Maison Margiela">Maison Margiela</option>
                <option value="Marc Jacobs">Marc Jacobs</option>
                <option value="Oscar de la Renta">Oscar de la Renta</option>
                <option value="Prada">Prada</option>
                <option value="Ralph Lauren">Ralph Lauren</option>
                <option value="Roberto Cavalli">Roberto Cavalli</option>
                <option value="Ralph & Russo">Ralph & Russo</option>
                <option value="Stella McCartney">Stella McCartney</option>
                <option value="Tommy Hilfiger">Tommy Hilfiger</option>
                <option value="Thierry Mugler">Thierry Mugler</option>
                <option value="Tom Ford">Tom Ford</option>
                <option value="Versace">Versace</option>
                <option value="Valentino">Valentino</option>
                <option value="Vera Wang">Vera Wang</option>
                <option value="Yves Saint Laurent">Yves Saint Laurent</option>
                <option value="Zac Posen">Zac Posen</option>
                <option value="Zuhair Murad">Zuhair Murad</option>
            </select>
        </div>
        <div class="form-group-others">
            <button type="button" @onclick="Done" class="mybutton">Done</button>
        </div>
    </form>

</div>

@code
{  
    public class Met
    {
        public string Name { get; set; }
        public string Surname { get; set; }
        public string Email { get; set; }
        public string Designer { get; set; }
    }

    Met met = new Met();

    [Parameter]
    public EventCallback<string> ValueChanged
    {
        get;
        set;
    }

    private Task OnDesignerChanged(ChangeEventArgs e)
    {
        met.Designer = e.Value.ToString();
        return ValueChanged.InvokeAsync(met.Designer);
    }



    private async Task Done()
    {

        await HttpClient.PostAsJsonAsync("https://prod-32.westeurope.logic.azure.com:443/workflows/405a24be83724c119bcc0a13e5514b40/triggers/manual/paths/invoke?api-version=2016-06-01&sp=%2Ftriggers%2Fmanual%2Frun&sv=1.0&sig=E_QhzT5uldVVGIJTSDVwPMk2sHFZEocECFH_8u3U21o", met);
    }

}